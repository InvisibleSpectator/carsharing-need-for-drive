(this["webpackJsonpcarsharing-need-for-drive"]=this["webpackJsonpcarsharing-need-for-drive"]||[]).push([[0],Array(22).concat([function(e){e.exports=JSON.parse('[{"name":"\u0411\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u0430\u044f \u043f\u0430\u0440\u043a\u043e\u0432\u043a\u0430","text":"\u041e\u0441\u0442\u0430\u0432\u043b\u044f\u0439\u0442\u0435 \u043c\u0430\u0448\u0438\u043d\u0443 \u043d\u0430 \u043f\u043b\u0430\u0442\u043d\u044b\u0445 \u0433\u043e\u0440\u043e\u0434\u0441\u043a\u0438\u0445 \u043f\u0430\u0440\u043a\u043e\u0432\u043a\u0430\u0445 \u0438 \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u043d\u044b\u0445 \u043c\u0435\u0441\u0442\u0430\u0445, \u043d\u0435 \u043d\u0430\u0440\u0443\u0448\u0430\u044f \u041f\u0414\u0414, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0432 \u0430\u044d\u0440\u043e\u043f\u043e\u0440\u0442\u0430\u0445.","img":"car0.png"},{"name":"\u0421\u0442\u0440\u0430\u0445\u043e\u0432\u043a\u0430","text":"\u041f\u043e\u043b\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u0445\u043e\u0432\u043a\u0430 \u0441\u0442\u0440\u0430\u0445\u043e\u0432\u043a\u0430 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u044f","img":"car1.png"},{"name":"\u0411\u0435\u043d\u0437\u0438\u043d","text":"\u041f\u043e\u043b\u043d\u044b\u0439 \u0431\u0430\u043a \u043d\u0430 \u043b\u044e\u0431\u043e\u0439 \u0437\u0430\u043f\u0440\u0430\u0432\u043a\u0435 \u0433\u043e\u0440\u043e\u0434\u0430 \u0437\u0430 \u043d\u0430\u0448 \u0441\u0447\u0451\u0442","img":"car2.png"},{"name":"\u041e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u0435","text":"\u0410\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u044c \u043f\u0440\u043e\u0445\u043e\u0434\u0438\u0442 \u0435\u0436\u0435\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u043e\u0435 \u0422\u041e","img":"car3.png"}]')},,function(e,t,a){e.exports=a(59)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){var n={"./car0.png":36,"./car1.png":37,"./car2.png":38,"./car3.png":39,"./slide1.jpg":40};function r(e){var t=c(e);return a(t)}function c(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=c,e.exports=r,r.id=35},function(e,t,a){e.exports=a.p+"static/media/car0.0f70766b.png"},function(e,t,a){e.exports=a.p+"static/media/car1.f506d8de.png"},function(e,t,a){e.exports=a.p+"static/media/car2.e749d54b.png"},function(e,t,a){e.exports=a.p+"static/media/car3.9e412414.png"},function(e,t,a){e.exports=a.p+"static/media/slide1.109b5e6a.jpg"},function(e,t,a){},function(e,t,a){e.exports=a.p+"static/media/marker.111ef1ff.svg"},,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){e.exports=a.p+"static/media/Rectangle.cb31fb44.png"},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(20),o=a.n(c),s=(a(29),a(13)),i=a(3),l=a(4),u=a(6),d=a(5),m=(a(30),a(31),function(e){return r.a.createElement("a",{className:"Link ".concat(e.className),href:e.href},e.text)});m.defaultProps={className:"",href:"#",text:""};var p=m,f=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).toggleBurger=function(){n.BurgerMenu.current.classList.toggle("BurgerMenu_isOpened")},n.render=function(){return r.a.createElement("aside",{className:"BurgerMenu",ref:n.BurgerMenu},r.a.createElement("div",{className:"BurgerMenu-ToggleButton",onClick:n.toggleBurger,role:"button",onKeyDown:n.toggleBurger}),r.a.createElement("div",{className:"BurgerMenu-Contaner"},r.a.createElement("div",{className:"BurgerMenu-Draver"},r.a.createElement("ul",{className:"BurgerMenu-Content"},["\u041f\u0410\u0420\u041a\u041e\u0412\u041a\u0410","\u0421\u0422\u0420\u0410\u0425\u041e\u0412\u041a\u0410","\u0411\u0415\u041d\u0417\u0418\u041d","\u041e\u0411\u0421\u041b\u0423\u0416\u0418\u0412\u0410\u041d\u0418\u0415"].map((function(e,t){return r.a.createElement("li",{key:t},r.a.createElement(p,{text:e,className:"Link_bg_black_white"}))}))),r.a.createElement("div",{className:"BurgerMenu-SN"},r.a.createElement("a",{href:"https://telegram.org/",className:"BurgerMenu-SN_telegram"}),r.a.createElement("a",{href:"https://ru-ru.facebook.com/",className:"BurgerMenu-SN_facebook"}),r.a.createElement("a",{href:"https://www.instagram.com/?hl=ru",className:"BurgerMenu-SN_instagram"}))),r.a.createElement("div",{className:"BurgerMenu-Background",onClick:n.toggleBurger})),r.a.createElement("button",{className:"BurgerMenu-LangButton",type:"button"},r.a.createElement("span",null,"ENG")))},n.BurgerMenu=r.a.createRef(),n}return a}(r.a.Component),g=(a(32),a(21)),b=(a(33),a(34),function(e){return r.a.createElement("button",{type:"button",disabled:e.className.includes("Button_disabled"),className:"Button ".concat(e.className),onClick:e.onClick||function(){}},r.a.createElement("span",{className:e.className.includes("Button_loading")?"Button-Text Button-Text_loading":"Button-Text"},e.text),r.a.createElement("span",{className:e.className.includes("Button_loading")?"Button-Spinner":"Button-Spinner_disabled"}))});b.defaultProps={className:"Button_default",text:""};var v=b,h=function(e){return r.a.createElement("section",{className:"".concat(e.className," Slider-Slide"),style:{backgroundImage:"linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, #000000 100%), url(".concat(a(35)("./".concat(e.img)))}},r.a.createElement("div",{className:"Slider-Slide-Content "},r.a.createElement("h2",{className:"Slider-Slide-Name"},e.head),r.a.createElement("p",{className:"Slider-Slide-Text"},e.text),r.a.createElement(v,{text:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435",className:"Button_slider Button_slider_index_".concat(e.buttonIndex)})))},E=a(22),N=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).arrowLeftAction=function(){n.isReadyToSlide=!1;var e=n.state.current;--e<0&&(e=n.state.data.length-1),n.setActive(e)},n.arrowRightAction=function(){n.isReadyToSlide=!1;var e=n.state.current;++e>n.state.data.length-1&&(e=0),n.setActive(e)},n.render=function(){return r.a.createElement("div",{className:"Slider"},r.a.createElement("div",{role:"button",className:"Slider-Arrow Slider-Arrow_left",onClick:n.arrowLeftAction,onKeyDown:n.arrowLeftAction}),r.a.createElement("div",{role:"button",className:"Slider-Arrow Slider-Arrow_right",onClick:n.arrowRightAction,onKeyDown:n.arrowRightAction}),r.a.createElement("div",{className:"Slider-Belt",style:{transform:"translateX(-".concat(100*n.state.current,"%)")}},n.state.data.map((function(e,t){return r.a.createElement(h,{head:e.name,text:e.text,img:e.img,key:t,buttonIndex:t%4,className:t===n.state.current?"Slider-Slide_active":""})}))),r.a.createElement("div",{className:"Slider-Dots"},n.state.data.map((function(e,t){return r.a.createElement("div",{className:"".concat(t===n.state.current?"Slider-Dot_active ":"","Slider-Dot"),key:t,onClick:function(){n.setActive(t)},role:"button",onKeyDown:function(){n.setActive(t)}})}))))},n.state={current:0,data:E},n}return Object(g.a)(a,[{key:"setActive",value:function(e){this.setState({current:e})}}]),a}(r.a.Component),I=(a(41),function(){return r.a.createElement("header",{className:"Header"},r.a.createElement("a",{href:"/carsharing-need-for-drive"},r.a.createElement("h1",{className:"Header-Head"},"Need for drive")),r.a.createElement("div",{className:"Header-Location"},r.a.createElement("img",{src:a(42),alt:"marker"}),r.a.createElement("span",null,"\u0423\u043b\u044c\u044f\u043d\u043e\u0432\u0441\u043a")))}),C=function(){return r.a.createElement("div",{className:"MainPage"},r.a.createElement(f,null),r.a.createElement("div",{className:"MainPage-MainContent"},r.a.createElement(I,null),r.a.createElement("main",{className:"MainPage-MainContent-Main"},r.a.createElement("p",null,"\u041a\u0430\u0440\u0448\u0435\u0440\u0438\u043d\u0433"),r.a.createElement("p",null,"Need for drive"),r.a.createElement("p",null,"\u041f\u043e\u043c\u0438\u043d\u0443\u0442\u043d\u0430\u044f \u0430\u0440\u0435\u043d\u0434\u0430 \u0430\u0432\u0442\u043e \u0442\u0432\u043e\u0435\u0433\u043e \u0433\u043e\u0440\u043e\u0434\u0430"),r.a.createElement(s.b,{to:"/order"},r.a.createElement(v,{text:"\u0417\u0430\u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c",className:"Button_main"}))),r.a.createElement("footer",{className:"MainPage-MainContent-Footer"},r.a.createElement("span",{className:"MainPage-MainContent-Footer-Copyright"},"\xa9 2016-2019 \xabNeed for drive\xbb"),r.a.createElement(p,{className:"MainPage-MainContent-Footer-Tel Link_footer",href:"tel:84952342244",text:"8 (495) 234-22-44"}))),r.a.createElement("div",{className:"MainPage-SliderContaner"},r.a.createElement(N,null)))},O=a(1),x=a(2),y=a.n(x),T=a(8),j=(a(49),function(e){return r.a.createElement("p",{className:"AutocompletableInput-Variants-Variant",onClick:function(){e.setInputValue(e.text)},onKeyDown:function(){e.setInputValue(e.text)}},e.text)}),k=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).isDone=function(){return n.props.variants.some((function(e){return e.toLowerCase()===n.state.value.toLowerCase()}))},n.getValue=function(){return n.state.value},n.setInputValue=function(e){n.setState({value:n.props.variants.includes(e)?e:n.props.variants.find((function(t){return t.toLowerCase()===e.toLowerCase(e)}))||e},(function(){return n.props.onChange(n.state.value)}))},n.render=function(){return r.a.createElement("div",{className:"".concat(n.props.className||""," AutocompletableInput")},r.a.createElement("input",{value:n.state.value,disabled:n.props.disabled,className:"AutocompletableInput-Input",placeholder:n.props.placeholder||"",onChange:function(e){n.setInputValue(e.target.value.trim())}}),r.a.createElement("button",{type:"button",className:"AutocompletableInput-Clear",onClick:function(){return n.setInputValue("")}}),r.a.createElement("div",{className:"AutocompletableInput-Variants"},n.state.value.length>=2?n.props.variants.filter((function(e){return e.toLowerCase().startsWith(n.state.value.toLowerCase())})).map((function(e,t){return r.a.createElement(j,{text:e,key:t,setInputValue:n.setInputValue})})):n.props.variants.map((function(e,t){return r.a.createElement(j,{text:e,key:t,setInputValue:n.setInputValue})}))))},n.state={value:n.props.defaultValue||""},n.state.filtered=e.variants.filter((function(e){return e.toLowerCase().startsWith(n.state.value.toLowerCase())})),n}return a}(n.Component),w=function(e){var t=new Intl.NumberFormat("ru",{minimumIntegerDigits:2});return e?"".concat(e.getFullYear(),"-").concat(t.format(e.getMonth()+1),"-").concat(t.format(e.getDate()),"T").concat(t.format(e.getHours()),":").concat(t.format(e.getMinutes())):""},D=function(){var e=Object(T.a)(y.a.mark((function e(t){var a,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://cors-anywhere.herokuapp.com/http://api-factory.simbirsoft1.com/api/db/".concat(t),{method:"GET",headers:{"X-Api-Factory-Application-Id":"5e25c641099b810b946c5d5b"}});case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(T.a)(y.a.mark((function e(t,a){var n,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://cors-anywhere.herokuapp.com/http://api-factory.simbirsoft1.com/api/db/".concat(t,"/").concat(a),{method:"GET",headers:{"X-Api-Factory-Application-Id":"5e25c641099b810b946c5d5b"}});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),M=function(){var e=Object(T.a)(y.a.mark((function e(t,a){var n,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://cors-anywhere.herokuapp.com/http://api-factory.simbirsoft1.com/api/db/".concat(t),{method:"POST",headers:{"X-Api-Factory-Application-Id":"5e25c641099b810b946c5d5b","Content-Type":"application/json"},body:JSON.stringify(a)});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),P=function(){var e=Object(T.a)(y.a.mark((function e(t,a,n){var r,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://cors-anywhere.herokuapp.com/http://api-factory.simbirsoft1.com/api/db/".concat(t,"/").concat(a),{method:"PUT",headers:{"X-Api-Factory-Application-Id":"5e25c641099b810b946c5d5b","Content-Type":"application/json"},body:JSON.stringify(n)});case 2:return r=e.sent,e.next=5,r.json();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),B=(a(50),function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var c;return Object(l.a)(this,n),(c=t.call(this,e)).getData=function(){return c.state.data},c.isDone=function(){return c.cityInput.current.isDone()&&c.addressInput.current.isDone()},c.updateData=function(e){c.setState((function(t){return{isCityDone:c.cityInput.current.isDone(),data:{cityId:t.cities.find((function(e){return e.name===t.city})),pointId:t.points.find((function(a){return a.cityId.name===t.city&&a.name===e}))}}}),c.props.onChange)},c.componentDidMount=Object(T.a)(y.a.mark((function e(){var t,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D("city");case 2:return t=e.sent,e.next=5,D("point");case 5:a=e.sent,c.setState({cities:t.data,points:a.data});case 7:case"end":return e.stop()}}),e)}))),c.render=function(){return r.a.createElement("div",{className:"Location"},r.a.createElement("div",{className:"Location-EditableFields"},r.a.createElement("span",null,"\u0413\u043e\u0440\u043e\u0434"),r.a.createElement(k,{ref:c.cityInput,defaultValue:c.state.data.cityId?c.state.data.cityId.name:"",onChange:function(e){return c.setState((function(t){return t.city!==e&&c.addressInput.current.setInputValue(""),{city:e,isCityDone:c.cityInput.current.isDone()}}))},placeholder:"\u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u0432\u0432\u043e\u0434\u0438\u0442\u044c \u0433\u043e\u0440\u043e\u0434 \u0432\u044b\u0434\u0430\u0447\u0438",variants:c.state.cities.map((function(e){return e.name}))}),r.a.createElement("span",null,"\u041f\u0443\u043d\u043a\u0442 \u0432\u044b\u0434\u0430\u0447\u0438"),r.a.createElement(k,{ref:c.addressInput,defaultValue:c.state.data.pointId?c.state.data.pointId.name:"",disabled:!(c.state.isCityDone||c.state.data.pointId),onChange:function(e){return c.updateData(e)},placeholder:"\u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u0432\u0432\u043e\u0434\u0438\u0442\u044c \u043f\u0443\u043d\u043a\u0442 \u0432\u044b\u0434\u0430\u0447\u0438",variants:c.state.points.filter((function(e){return e.cityId.name===c.state.city})).map((function(e){return e.name}))})),r.a.createElement("div",{className:"Location-Map"},r.a.createElement("span",null,"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043d\u0430 \u043a\u0430\u0440\u0442\u0435:"),r.a.createElement("div",{className:"Location-Map-MapBox"},r.a.createElement("img",{src:a(51),alt:"map"}))))},c.cityInput=r.a.createRef(),c.addressInput=r.a.createRef(),c.state={cities:[],points:[],city:e.data.cityId?e.data.cityId.name:"",isCityDone:!1,data:e.data},c}return n}(n.Component)),F=(a(52),a(53),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).getValue=function(){return n.state.value},n.render=function(){return r.a.createElement(r.a.Fragment,null,n.props.data.map((function(e,t){return r.a.createElement("div",{className:"Radiobutton",key:t},r.a.createElement("label",{className:"Radiobutton-Label"},r.a.createElement("input",{checked:e.value===n.props.defaultValue||e.value===n.state.value,type:"radio",className:"Radiobutton-Input",name:n.props.name,value:e.value,onChange:function(e){n.setState({value:e.target.value},(function(){return n.props.onChange(n.state.value)}))}}),r.a.createElement("span",{className:"Radiobutton-FakePoint"},e.text)))})))},n.state={value:e.defaultValue||e.data[0].value},n}return a}(n.Component)),_=function(e){return r.a.createElement("div",{className:"Model-CarCard ".concat(e.className||""),onClick:function(){e.onClick(e.car)},onKeyDown:function(){e.onClick(e.car)}},r.a.createElement("h3",null,e.car.name.split(",")[1]),r.a.createElement("span",null,r.a.createElement("span",null,e.car.priceMin)," - ",r.a.createElement("span",null,e.car.priceMax)," \u20bd"),r.a.createElement("img",{crossOrigin:"anonymous",referrerPolicy:"origin",alt:"car",src:"http://api-factory.simbirsoft1.com".concat(e.car.thumbnail.path)}))},A=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(T.a)(y.a.mark((function e(){var t,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D("car");case 2:return t=e.sent,e.next=5,D("category");case 5:a=e.sent,n.setState((function(e){return{cars:t.data,categories:e.categories.concat(a.data.map((function(e){return{value:e.id,text:e.name}})))}}));case 7:case"end":return e.stop()}}),e)}))),n.getData=function(){return n.state.data},n.isDone=function(){return n.state.cars.some((function(e){return!!n.state.data.carId&&e.id===n.state.data.carId.id}))},n.setData=function(e){n.setState((function(t){return Object(O.a)(Object(O.a)({},t),{},{data:Object(O.a)(Object(O.a)({},t.data),{},{carId:e})})}),n.props.onChange)},n.render=function(){return r.a.createElement("div",{className:"Model"},r.a.createElement("div",{className:"Model-Prices"},r.a.createElement(F,{name:"priceRange",data:n.state.categories,defaultValue:n.state.data.category,onChange:function(e){return n.setState((function(t){return Object(O.a)(Object(O.a)({},t),{},{data:Object(O.a)(Object(O.a)({},t.data),{},{category:e})})}),n.props.onLoad)}})),r.a.createElement("div",{className:"Model-ModelList"},r.a.createElement("div",{className:"Model-ModelList-Belt"},""===n.state.data.category?n.state.cars.map((function(e,t){return r.a.createElement(_,{key:t,onClick:n.setData,className:(n.state.data.carId?n.state.data.carId.id:"")===e.id?"Model-CarCard_selected":"",car:e})})):n.state.cars.filter((function(e){return e.categoryId.id===n.state.data.category})).map((function(e,t){return r.a.createElement(_,{key:t,onClick:n.setData,className:(n.state.data.carId?n.state.data.carId.id:"")===e.id?"Model-CarCard_selected":"",car:e})})))))},n.state={data:e.data,cars:[],categories:[{text:"\u0412\u0441\u0435 \u043c\u043e\u0434\u0435\u043b\u0438",value:""}]},n}return a}(n.Component),R=(a(54),a(55),a(56),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).getValue=function(){return n.state.value},n.render=function(){return r.a.createElement("div",{className:"Checkbox"},r.a.createElement("label",{className:"Checkbox-Label"},r.a.createElement("input",{checked:n.props.checked,type:"checkbox",className:"Checkbox-Input",onChange:function(e){n.props.onChange(e.target.checked)}}),r.a.createElement("span",{className:"Checkbox-FakePoint"},n.props.text)))},n}return a}(n.Component)),L=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(T.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D("rate");case 2:t=e.sent,n.setState((function(e){return{rates:t.data,data:Object(O.a)(Object(O.a)({},e.data),{},{rateId:e.data.rateId?e.data.rateId:t.data[0]})}}),n.props.onLoad);case 4:case"end":return e.stop()}}),e)}))),n.getData=function(){return n.state.data},n.isDone=function(){return n.state.data.dateFrom<n.state.data.dateTo},n.setPrice=function(){var e;switch(n.state.data.rateId.rateTypeId.unit){case"\u043c\u0438\u043d":e=Math.floor((n.state.data.dateTo-n.state.data.dateFrom)/6e4)*n.state.data.rateId.price;break;case"\u0441\u0443\u0442\u043a\u0438":e=Math.floor((n.state.data.dateTo-n.state.data.dateFrom)/864e5)*n.state.data.rateId.price}e=Math.max(0,e)||0,e+=500*n.state.data.isFullTank,e+=200*n.state.data.isNeedChildChair,e+=1600*n.state.data.isRightWheel,n.setState((function(t){return{data:Object(O.a)(Object(O.a)({},t.data),{},{price:e})}}),n.props.onChange)},n.render=function(){return r.a.createElement("div",{className:"Extra"},r.a.createElement("div",{className:"Extra-Color"},r.a.createElement("p",{className:"Extra-Title"},"\u0426\u0432\u0435\u0442"),r.a.createElement("div",{className:"Extra-Colors"},r.a.createElement(F,{name:"colors",defaultValue:n.state.data.color,onChange:function(e){n.setState((function(t){return{data:Object(O.a)(Object(O.a)({},t.data),{},{color:e})}}),n.props.onChange)},data:n.state.colors}))),r.a.createElement("div",{className:"Extra-Time"},r.a.createElement("p",{className:"Extra-Title"},"\u0414\u0430\u0442\u0430 \u0430\u0440\u0435\u043d\u0434\u044b"),r.a.createElement("div",{className:"Extra-TimeRange"},r.a.createElement("span",null,"\u0421"),r.a.createElement("input",{className:"Extra-TimeRange-Input",min:w(new Date),value:0===n.state.data.dateFrom?"":w(new Date(n.state.data.dateFrom)),type:"datetime-local",onChange:function(e){var t=new Date(e.target.value);n.setState((function(e){return{data:Object(O.a)(Object(O.a)({},e.data),{},{dateFrom:t.getTime()||0,dateTo:t.getTime()?e.data.dateTo:0})}}),n.setPrice)}}),r.a.createElement("span",null,"\u041f\u043e"),r.a.createElement("input",{className:"Extra-TimeRange-Input",type:"datetime-local",disabled:!n.state.data.dateFrom,min:w(new Date(n.state.data.dateFrom)),value:n.state.data.dateFrom>=n.state.data.dateTo?"":w(new Date(n.state.data.dateTo)),onChange:function(e){var t=new Date(e.target.value);n.setState((function(e){return{data:Object(O.a)(Object(O.a)({},e.data),{},{dateTo:t.getTime()||0})}}),n.setPrice)}}))),n.state.rates.length>0?r.a.createElement("div",{className:"Extra-Rate"},r.a.createElement("p",{className:"Extra-Title"},"\u0422\u0430\u0440\u0438\u0444"),r.a.createElement("div",null,r.a.createElement(F,{name:"rate",data:n.state.rates.map((function(e){return{value:e.id,text:"".concat(e.rateTypeId.name,", ").concat(e.price,"\u20bd/").concat(e.rateTypeId.unit)}})),defaultValue:n.state.data.rateId?n.state.data.rateId.id:null,onChange:function(e){n.setState((function(t){var a=t.rates.find((function(t){return t.id===e}));return{data:Object(O.a)(Object(O.a)({},t.data),{},{rateId:a})}}),n.setPrice)}}))):"",r.a.createElement("div",{className:"Extra-Extra"},r.a.createElement("p",{className:"Extra-Title"},"\u0414\u043e\u043f \u043e\u043f\u0446\u0438\u0438"),r.a.createElement("div",null,r.a.createElement(R,{text:"\u041f\u043e\u043b\u043d\u044b\u0439 \u0431\u0430\u043a, 500 \u20bd",checked:n.state.data.isFullTank,onChange:function(e){n.setState((function(t){return{data:Object(O.a)(Object(O.a)({},t.data),{},{isFullTank:e})}}),n.setPrice)}}),r.a.createElement(R,{text:"\u0414\u0435\u0442\u0441\u043a\u043e\u0435 \u043a\u0440\u0435\u0441\u043b\u043e, 200 \u20bd",checked:n.state.data.isNeedChildChair,onChange:function(e){n.setState((function(t){return{data:Object(O.a)(Object(O.a)({},t.data),{},{isNeedChildChair:e})}}),n.setPrice)}}),r.a.createElement(R,{text:"\u041f\u0440\u0430\u0432\u044b\u0439 \u0440\u0443\u043b\u044c, 1600 \u20bd",checked:n.state.data.isRightWheel,onChange:function(e){n.setState((function(t){return{data:Object(O.a)(Object(O.a)({},t.data),{},{isRightWheel:e})}}),n.setPrice)}}))))},n.state={colors:[{value:"\u041b\u044e\u0431\u043e\u0439",text:"\u041b\u044e\u0431\u043e\u0439"}].concat(e.colors.map((function(e){return{value:e,text:e}}))),rates:[],data:e.data},n}return a}(n.Component),V=(a(57),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).getData=function(){return null},n.isDone=function(){return n.state.isDone},n.action=function(){n.modal.current.classList.toggle("Total-Modal_disabled")},n.editOrder=Object(T.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P("order",n.state.data.id,Object(O.a)(Object(O.a)({},n.state.data),{},{orderStatusId:"5e26a1f5099b810b946c5d8c",cityId:n.state.data.cityId.id,pointId:n.state.data.pointId.id,carId:n.state.data.carId.id,rateId:n.state.data.rateId.id}));case 2:t=e.sent,window.location.href="/order/".concat(t.data.id);case 4:case"end":return e.stop()}}),e)}))),n.getStatus=function(){switch(n.state.data.orderStatusId.name){case"new":return"\u0441\u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u043d";case"cancelled":return"\u043e\u0442\u043c\u0435\u043d\u0451\u043d";case"confirmed":return"\u043f\u043e\u0434\u0442\u0432\u0451\u0440\u0436\u0434\u0451\u043d";case"issued":return"\u0441 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430\u043c\u0438";default:return"\u0447\u0442\u043e-\u0442\u043e \u0441\u0442\u0440\u0430\u043d\u043d\u043e\u0435"}},n.render=function(){return r.a.createElement("div",{className:"Total"},r.a.createElement("div",{className:"Total-Text"},n.state.data.id?r.a.createElement("span",{className:"Total-Text-Status"},"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 ".concat(n.getStatus())):"",r.a.createElement("h2",null,n.state.data.carId.name),n.state.data.carId.number?r.a.createElement("span",{className:"Total-Text-Number"},n.state.data.carId.number):"",n.state.data.carId.tank?r.a.createElement("span",null,r.a.createElement("span",{className:"Total-Text-Title"},"\u0422\u043e\u043f\u043b\u0438\u0432\u043e")," ",r.a.createElement("span",{className:"Total-Text-Value"},n.state.data.carId.tank,"%")):"",r.a.createElement("span",null,r.a.createElement("span",{className:"Total-Text-Title"},"\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u0430 \u0441 ")," ",r.a.createElement("input",{type:"datetime-local",disabled:!0,readOnly:!0,className:"Total-Text-Value",defaultValue:w(new Date(n.state.data.dateFrom))}))),r.a.createElement("div",{className:"Total-Image"},r.a.createElement("img",{src:"http://api-factory.simbirsoft1.com/".concat(n.state.data.carId.thumbnail.path),alt:"car"})),r.a.createElement("div",{className:"Total-Modal Total-Modal_disabled",ref:n.modal},r.a.createElement("div",{className:"Total-Modal-Grid"},r.a.createElement("span",{className:"Total-Modal-Text"},"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"),r.a.createElement(v,{text:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c",className:"Button_max Total-Modal-Accept",onClick:Object(T.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M("order",Object(O.a)(Object(O.a)({},n.state.data),{},{orderStatusId:n.state.data.orderStatusId.id,cityId:n.state.data.cityId.id,pointId:n.state.data.pointId.id,carId:n.state.data.carId.id,rateId:n.state.data.rateId.id}));case 2:t=e.sent,window.location.href="/order/".concat(t.data.id);case 4:case"end":return e.stop()}}),e)})))}),r.a.createElement(v,{text:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f",className:"Button_decline Button_max Total-Modal-Decline",onClick:function(){return n.action()}}))))},n.modal=r.a.createRef(),n.state={isDone:!0,data:e.data||{}},e.onChange(),n}return a}(n.Component));V.defaultProps={onChange:function(){}};var W=V,H=function(e){return r.a.createElement("div",{className:"OrderDetails-Row"},r.a.createElement("p",{className:"OrderDetails-Detail"},e.name),r.a.createElement("div",{className:"OrderDetails-Separator"}),r.a.createElement("p",{className:"OrderDetails-Value"},"object"===typeof e.value?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,e.value.city,e.value.city&&e.value.address?",":""),r.a.createElement("span",null,e.value.address)):e.value))},K=(a(58),function(e,t){var a=t-e,n=Math.floor(a/864e5),r=Math.floor(a%864e5/36e5),c=Math.round(a%864e5%36e5/6e4);return"".concat(n?"".concat(n," \u0434"):""," ").concat(r?"".concat(r," \u0447"):""," ").concat(c?"".concat(c," \u043c"):"")}),G=function(e){return console.log(e),r.a.createElement("aside",{className:"OrderDetails"},r.a.createElement("span",{className:"OrderDetails-Title"},"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437:"),r.a.createElement("div",{className:"OrderDetails-Grid"},e.order.pointId?r.a.createElement(H,{name:"\u041f\u0443\u043d\u043a\u0442 \u0432\u044b\u0434\u0430\u0447\u0438",value:{city:e.order.cityId.name,address:e.order.pointId.address}}):"",e.order.carId?r.a.createElement(H,{name:"\u041c\u043e\u0434\u0435\u043b\u044c",value:e.order.carId.name}):"",e.order.color?r.a.createElement(H,{name:"\u0426\u0432\u0435\u0442",value:e.order.color}):"",e.order.dateTo-e.order.dateFrom>0?r.a.createElement(H,{name:"\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0430\u0440\u0435\u043d\u0434\u044b",value:K(e.order.dateFrom,e.order.dateTo)}):"",e.order.rateId?r.a.createElement(H,{name:"\u0422\u0430\u0440\u0438\u0444",value:e.order.rateId.rateTypeId.name}):"",e.order.isFullTank?r.a.createElement(H,{name:"\u041f\u043e\u043b\u043d\u044b\u0439 \u0431\u0430\u043a",value:"\u0414\u0430"}):"",e.order.isNeedChildChair?r.a.createElement(H,{name:"\u0414\u0435\u0442\u0441\u043a\u043e\u0435 \u043a\u0440\u0435\u0441\u043b\u043e",value:"\u0414\u0430"}):"",e.order.isRightWheel?r.a.createElement(H,{name:"\u041f\u0440\u0430\u0432\u044b\u0439 \u0440\u0443\u043b\u044c",value:"\u0414\u0430"}):""),r.a.createElement("span",{className:"OrderDetails-Price"},r.a.createElement("span",{className:"OrderDetails-Title"},"\u0426\u0435\u043d\u0430:"),e.order.price||0," \u20bd"),r.a.createElement(v,{className:"Button_max ".concat(e.buttonClass),onClick:e.onClick,text:e.buttonText}))},J=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(T.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.props.match.params.id){e.next=7;break}return e.next=3,S("order",n.props.match.params.id);case 3:t=e.sent,n.setState({loaded:!0,order:(a=t.data,{id:a.id,orderStatusId:a.orderStatusId,cityId:a.cityId,pointId:a.pointId,carId:a.carId,color:a.color,dateFrom:a.dateFrom,dateTo:a.dateTo,rateId:a.rateId,price:a.price,isFullTank:a.isFullTank,isNeedChildChair:a.isNeedChildChair,isRightWheel:a.isRightWheel})}),e.next=8;break;case 7:n.setState({loaded:!0});case 8:case"end":return e.stop()}var a}),e)}))),n.conditionalRendering=function(){var e={ref:n.activePage,data:function(){var e={};return Object.keys(n.state.pages[n.state.page].data).forEach((function(t){Object.prototype.hasOwnProperty.call(n.state.order,t)?e[t]=n.state.order[t]:e[t]=n.state.pages[n.state.page].data[t]})),e}(),onLoad:function(){n.setState((function(e){var t=Object(O.a)(Object(O.a)({},e),{},{order:Object(O.a)(Object(O.a)({},e.order),n.activePage.current.getData()),pages:e.pages});return t.pages[e.page].isDone=n.activePage.current.isDone(),t}))},onChange:function(){n.setState((function(e){var t=Object(O.a)(Object(O.a)({},e),{},{order:Object(O.a)(Object(O.a)({},e.order),n.activePage.current.getData()),pages:e.pages.map((function(t,a){return Object(O.a)(Object(O.a)({},t),{},{isDone:a<=e.page})}))}),a=Array.from(new Set(e.pages.slice(0,e.page+1).map((function(e){return Object.keys(e.data)})).flat()));return Object.keys(t.order).forEach((function(e){a.includes(e)||delete t.order[e]})),t.pages[e.page].isDone=n.activePage.current.isDone(),t}))}};return n.state.pages[n.state.page].render(e)},n.render=function(){return r.a.createElement("div",{className:"OrderPage"},r.a.createElement(f,null),r.a.createElement("div",{className:"OrderPage-Content"},r.a.createElement("div",{className:"OrderPage-HeaderContaner"},r.a.createElement("div",{className:"OrderPage-ContentWrapper"},r.a.createElement(I,null))),r.a.createElement("div",{className:"OrderPage-Content-Tabs"},r.a.createElement("div",{className:"OrderPage-ContentWrapper"},n.props.match.params.id?r.a.createElement("span",{className:"OrderPage-Content-Tabs-Tab OrderPage-Content-Tabs-Tab_visited"},"\u0417\u0430\u043a\u0430\u0437 \u043d\u043e\u043c\u0435\u0440 ".concat(n.props.match.params.id)):n.state.pages.map((function(e,t){return r.a.createElement("span",{className:"OrderPage-Content-Tabs-Tab ".concat(e.isDone||t>0&&n.state.pages[t-1].isDone?"OrderPage-Content-Tabs-Tab_visited":" ","\n                   ").concat(t===n.state.page?"OrderPage-Content-Tabs-Tab_active":" ","\n                "),key:t,onClick:function(){n.setState({page:t})}},e.name)})))),n.state.loaded?r.a.createElement("div",{className:"OrderPage-Content-Order"},r.a.createElement("div",{className:"OrderPage-ContentWrapper"},r.a.createElement("div",{className:"OrderPage-Content-Order-Options"},n.props.match.params.id?r.a.createElement(W,{ref:n.activePage,data:n.state.order}):n.conditionalRendering()),r.a.createElement(G,{order:n.state.order,onClick:n.props.match.params.id&&"new"===n.state.order.orderStatusId.name?function(){return n.activePage.current.editOrder()}:n.state.pages[n.state.page].onClick,buttonClass:n.props.match.params.id?"new"===n.state.order.orderStatusId.name?"Button_decline":"Button_hidden":n.state.pages[n.state.page].isDone?"":"Button_disabled",buttonText:n.props.match.params.id&&"new"===n.state.order.orderStatusId.name?"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c":n.state.pages[n.state.page].buttonText}))):""))},n.activePage=r.a.createRef(),n.state={order:{},loaded:!1,pages:[{name:"\u041c\u0435\u0441\u0442\u043e\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435",isDone:!1,buttonText:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043c\u043e\u0434\u0435\u043b\u044c",data:{cityId:null,pointId:null},onClick:function(){return n.setState((function(e){return{page:e.page+1}}))},render:function(e){return r.a.createElement(B,e)}},{name:"\u041c\u043e\u0434\u0435\u043b\u044c",isDone:!1,buttonText:"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e",data:{carId:null,category:""},onClick:function(){return n.setState((function(e){return{page:e.page+1}}))},render:function(e){return r.a.createElement(A,e)}},{name:"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e",isDone:!1,buttonText:"\u0418\u0442\u043e\u0433\u043e",data:{color:"\u041b\u044e\u0431\u043e\u0439",dateFrom:0,dateTo:0,rateId:null,isFullTank:!1,isNeedChildChair:!1,isRightWheel:!1,price:0},onClick:function(){return n.setState((function(e){return{page:e.page+1}}))},render:function(e){return r.a.createElement(L,Object.assign({colors:n.state.order.carId.colors},e))}},{name:"\u0418\u0442\u043e\u0433\u043e",isDone:!1,buttonText:"\u0417\u0430\u043a\u0430\u0437\u0430\u0442\u044c",data:{orderStatusId:{id:"5e26a191099b810b946c5d89",name:"new"},cityId:null,pointId:null,carId:null,color:"\u041b\u044e\u0431\u043e\u0439",dateFrom:0,dateTo:0,rateId:null,isFullTank:!1,isNeedChildChair:!1,isRightWheel:!1,price:0},onClick:function(){return n.activePage.current.action()},render:function(e){return r.a.createElement(W,e)}}],page:0},n}return a}(n.Component);var X=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/",component:C}),r.a.createElement(i.a,{path:"/order/:id?",component:J})))};o.a.render(r.a.createElement(s.a,null,r.a.createElement(X,null)),document.getElementById("root"))}]),[[24,1,2]]]);
//# sourceMappingURL=main.42921d68.chunk.js.map